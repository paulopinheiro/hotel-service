CREATE TABLE Booking (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 2010374, INCREMENT BY 1) NOT NULL,
  fromDate DATE,
  toDate DATE,
  bookingCreated TIMESTAMP,
  earliestCheckinTime TIME,
  customer_customerNo INTEGER NOT NULL,
  hotel_id INTEGER NOT NULL,
  roomCategory_id INTEGER NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT booking_pk PRIMARY KEY (id)
);

CREATE TABLE Customer (
  customerNo INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1000324, INCREMENT BY 1) NOT NULL,
  creditCard VARCHAR(16),
  email VARCHAR(40),
  name VARCHAR(40),
  password VARCHAR(40),
  phone VARCHAR(20),
  LOCK_FLAG INTEGER,
  CONSTRAINT customer_pk PRIMARY KEY (customerNo)
);

CREATE TABLE Hotel (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 16, INCREMENT BY 1) NOT NULL,
  location VARCHAR(30),
  logo VARCHAR(40),
  name VARCHAR(40),
  chain_id INTEGER NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT hotel_pk PRIMARY KEY (id)
);

CREATE TABLE HotelChain (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 16, INCREMENT BY 1) NOT NULL,
  name VARCHAR(40) NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT hotelchain_pk PRIMARY KEY (id)
);

CREATE TABLE HotelRoomCategory (
  actualPrice DECIMAL(10,2),
  fromDate DATE NOT NULL,
  toDate DATE,
  hotel_id INTEGER NOT NULL,
  roomCategory_id INTEGER NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT HotelRoomCategory_PK PRIMARY KEY (hotel_id,roomCategory_id,fromDate)
);

CREATE TABLE Address (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 13, INCREMENT BY 1) NOT NULL,
  homeAddress VARCHAR(40),
  postalCode INTEGER,
  customer_customerNo INTEGER NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT address_pk PRIMARY KEY (id)
);

CREATE TABLE Room (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 451, INCREMENT BY 1) NOT NULL,
  roomNo INTEGER,
  floor INTEGER,
  balcony SMALLINT,
  heading INTEGER CHECK (heading IN (1,2,3,4)),
  category_id INTEGER NOT NULL,
  hotel_id INTEGER NOT NULL,
  LOCK_FLAG INTEGER,
  CONSTRAINT room_pk PRIMARY KEY (id)
);

CREATE TABLE RoomCategory (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 13, INCREMENT BY 1) NOT NULL,
  bedType INTEGER CHECK (bedType IN (1,2,3,4,5)),
  guests INTEGER,
  initialPrice DECIMAL(10,2),
  maxDiscount INTEGER,
  roomQuality INTEGER CHECK (roomQuality IN (1,2,3)),
  LOCK_FLAG INTEGER,
  CONSTRAINT roomcategory_pk PRIMARY KEY (id)
);